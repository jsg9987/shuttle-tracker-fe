# Project: SSAFY 셔틀 버스 위치 추적 서비스

## 개요
본 프로젝트는 SSAFY 교육생들에게 셔틀버스 도착 시간을 편하게 알려주기 위해 개발합니다. 사용자는 웹사이트 내에서 로그인, 회원가입, 셔틀 맵 확인을 이용할 수 있습니다. 기본적으로 버스에 먼저 탄 친구가 위치공유를 켜서 해당 위치를 기점으로 내 위치까지 오는 시간을 계산하는 서비스입니다. 모든 페이지는 직관적인 네비게이션을 통해 연결됩니다.

### 시스템 지시문
당신은 Next.js 14, TypeScript, Tailwind로 모바일 최적화 UI를 제작하는 프론트엔드 엔지니어입니다. 서버 컴포넌트를 기본으로 하되 상호작용은 클라이언트 컴포넌트로 분리합니다. 모든 UI 텍스트는 한국어입니다. 

백엔드는 SpringBoot, MySQL, Redis를 사용할 예정입니다.

## 전반적인 개발 지침

- 모든 UI는 반응형(Responsive)으로 설계되어야하며, 모바일 및 데스크탑 환경을 지원해야합니다.
- 사용자 경험(UX)을 고려한 간결하고 직관적인 UI/UX 구성
- 모든 기능 구현 시 접근성과 웹 표준을 준수합니다.


### 스타일 가이드
타이포: 기본 16px, H1 20~24px
버튼: 기본, 라이트, 위험
아이콘: Heroicons
공통 UX: 상태별 토스트/다이얼로그, 로딩 스켈레톤, 오류 재시도 패턴

### 사용 라이브러리
- Zustand


## 1. 네비게이션 바(Navbar)

### 기능 요약

- 상단 고정형 네비게이션 바
- 좌측: SSAFY 로고
- 우측
    - 로그인 미완료 상태: 로그인, 회원가입
    - 로그인 완료 상태: 친구창 이동, 로그아웃

### 동작 정의
| 구분 | 기능 요약 | 동작 요약 |
|:---|:---|:---|
| **기능 요약** | 상단 고정형 내비게이션 바. 로그인 상태에 따라 다른 메뉴 제공. |
| **로그인 미완료** | 로그인, 회원가입 버튼 표시. | '로그인' 클릭 시 $\rightarrow$ 로그인 페이지 이동. '회원가입' 클릭 시 $\rightarrow$ 회원가입 페이지 이동. |
| **로그인 완료** | 친구창 이동, 로그아웃 버튼 표시. | '친구창 이동' 클릭 시 $\rightarrow$ 친구창 이동. '로그아웃' 클릭 시 $\rightarrow$ 세션 종료 및 홈으로 이동. |
| **SSAFY 로고** | 좌측 로고 클릭 시 홈(랜딩) 페이지로 이동. |

## 2. 홈 페이지(Home)

### 2.1. 위치 공유 버튼 (Toggle: ON/OFF)

| 구분 | 기능 요약 | 동작 요약 |
|:---|:---|:---|
| **기능 요약** | 로그인 유저가 자신의 위치 공유 상태를 설정 (1시간 ON / 즉시 OFF). |
| **미로그인** | 버튼 클릭 시 $\rightarrow$ "로그인창으로 이동" $\text{alert}$ 후 $\text{확인}$ 시 로그인 페이지로 이동. |
| **로그인** | **ON** $\rightarrow$ $\text{1}$시간 동안 위치 공유 시작. **OFF** $\rightarrow$ 즉시 위치 공유 차단. |

### 2.2. 셔틀 맵 확인페이지로 이동 버튼

| 구분 | 기능 요약 | 동작 요약 |
|:---|:---|:---|
| **기능 요약** | 셔틀 맵 확인 페이지로 이동. |
| **미로그인** | 버튼 클릭 시 $\rightarrow$ "로그인창으로 이동" $\text{alert}$ 후 $\text{확인}$ 시 로그인 페이지로 이동. |
| **로그인** | 버튼 클릭 시 $\rightarrow$ **셔틀 맵 확인 페이지**로 이동. |

---

## 3. 사용자 인증/정보 관리

### 3.1. 로그인

| 구분 | 기능 요약 | 동작 요약 |
|:---|:---|:---|
| **기능 요약** | 아이디와 비밀번호를 입력하여 서비스에 로그인. |
| **동작** | 아이디/비밀번호 입력 후 $\text{Submit}$ $\rightarrow$ 서버 인증 요청 $\rightarrow$ 성공 시 홈 또는 직전 페이지 이동, 실패 시 오류 메시지 표시. |

### 3.2. 회원가입

| 구분 | 기능 요약 | 동작 요약 |
|:---|:---|:---|
| **기능 요약** | 이메일, 비밀번호, 이름 정보를 입력하여 회원가입. |
| **동작** | 회원 정보 ($\text{Email, Password, Name}$) 입력 후 $\text{Submit}$ $\rightarrow$ 서버 등록 요청 $\rightarrow$ 성공 시 로그인 페이지로 이동. |

### 3.3. 정보 수정 (위치 공유 동의 토글)

| 구분 | 기능 요약 | 동작 요약 |
|:---|:---|:---|
| **기능 요약** | 서비스 차원의 위치 정보 공유 영구 동의/철회 설정. |
| **동작** | 토글 조작 시 $\rightarrow$ 변경된 동의 상태 ($\text{True/False}$)를 서버에 저장. |


### 3.4. 비밀번호 변경

| 구분 | 기능 요약 | 동작 요약 |
|:---|:---|:---|
| **기능 요약** | 현재 비밀번호 확인 후 새 비밀번호로 변경. |
| **동작** | 현재 비밀번호, 새 비밀번호, 새 비밀번호 확인 $\text{3}$가지 입력 $\rightarrow$ $\text{Submit}$ $\rightarrow$ 서버에 변경 요청 $\rightarrow$ 성공 시 변경 완료. |

---

## 4. 셔틀 맵 페이지 (Shuttle Map View)

### 4.1. 맵 및 친구 마커 조회

| 구분 | 기능 요약 | 동작 요약 |
|:---|:---|:---|
| **기능 요약** | 카카오맵 임베드 및 친구 관계인 모든 유저의 위치 마커 표시. |
| **동작** | 페이지 로딩 시 $\rightarrow$ 카카오맵 로딩 및 서버에서 친구 위치 정보 조회 $\rightarrow$ **모든 친구의 현재 위치에 마커** 표시. |

### 4.2. 친구 마커 클릭 및 추적

| 구분 | 기능 요약 | 동작 요약 |
|:---|:---|:---|
| **기능 요약** | 친구 위치 기반으로 탑승 버스 추적 및 나에게 오는 예상 시간 예측.  |
| **동작** | **마커 클릭 시** $\rightarrow$ 친구 이름/호차 정보 ($\text{ex) 전석균 / 2호차}$) 표시, 해당 노선의 경유지 정보를 DB를 통해서 가져오고 친구 위치를 보고 앞으로 지나야할 경유지들만 순서대로 클릭하도록 유도! ->  친구를 누르고 경유지들을 설정해서 남은 시간 예측 시 해당 호차 노선 정보 조회 및 **맵에 노선 경로 표시** $\rightarrow$ 카카오 모빌리티 $\text{API}$를 이용해 나에게 오는 예상 시간 계산 $\rightarrow$ 결과 ($\text{노선/남은 시간/예상 도착 시간}$)를 **하단 카드 형태 UI**로 출력. |

---

## 5. 검색창 기능 (Search Functionality)

### 5.1. 검색창 활성화 및 $\text{Input}$

| 구분 | 기능 요약 | 동작 요약 |
|:---|:---|:---|
| **기능 요약** | 검색창 클릭 시 전체 페이지를 덮는 검색 인터페이스 활성화. 친구 이름 $\text{OR}$ 노선명 검색 $\text{input}$ 제공. |
| **동작** | **검색창 클릭 시** $\rightarrow$ 검색창이 전체 화면 $\text{Overlay}$ $\rightarrow$ 친구 이름 또는 노선명을 입력할 수 있는 $\text{Input}$ 태그 표시. |

### 5.2. 실시간 조회 (Auto-complete)

| 구분 | 기능 요약 | 동작 요약 |
|:---|:---|:---|
| **기능 요약** | 사용자가 타이핑하는 동안 $\text{DB}$에서 유사한 노선명과 친구명을 미리 조회하여 추천. |
| **노선 조회** | $\text{Input}$ 텍스트 기반으로 $\text{DB}$에서 **유사 노선명** 실시간 조회 및 목록 표시. |
| **친구명 조회** | $\text{Input}$ 텍스트 기반으로 $\text{DB}$에서 **유사 친구명** 실시간 조회 및 목록 표시. |

### 5.3. 검색 결과 반영

| 구분 | 기능 요약 | 동작 요약 |
|:---|:---|:---|
| **노선 기반 검색** | 노선명 검색 완료 시 해당 노선의 경로를 맵에 표시. |
| **동작** | 노선명 선택/검색 완료 시 $\rightarrow$ 해당 노선의 $\text{DB}$ 정보 가져와 **카카오맵에 경로를 그려줌** $\rightarrow$ 사용자는 경로 위 친구 마커를 발견할 수 있음. |
| **친구 기반 검색** | 친구명 검색 완료 시 해당 친구 마커 위치로 맵 이동. |
| **동작** | 친구명 선택/검색 완료 시 $\rightarrow$ 해당 친구의 위치 좌표로 **맵의 중심을 이동 ($\text{Pan/Zoom}$) 시킴.** |